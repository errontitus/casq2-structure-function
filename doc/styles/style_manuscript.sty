\ProvidesPackage{style_manuscript}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[T1]{fontenc}

\RequirePackage{etoolbox}
\RequirePackage{regexpatch}

% Use showframe if you want to see margins.
\usepackage[top=1.0in,left=1.0in,footskip=1.0in,marginparwidth=1.0in]{geometry}

% Sometimes people ask for raggedright text, but it's a nightmare trying to get raggedright to play nicely with figures. Prefer justified text, which looks nicer anyway.
% \usepackage[document]{ragged2e}
% Needed to preserve paragraph indentation with ragged right. https://tex.stackexchange.com/questions/185970/raggedright-removes-paragraph-indentation
% Have to revert to justification for texshade and figure captions.

% Paragraphs and fonts
% double space (but single space floats and captions)
% https://tex.stackexchange.com/questions/23957/how-to-set-font-to-arial-throughout-the-entire-document
\usepackage{setspace}
% Prefer to do this section-by-section

\RequirePackage{microtype}

\usepackage[dvipsnames]{xcolor}
\RequirePackage{graphicx}

\newcommand\hl[1]{\colorbox{yellow}{\textcolor{red}{#1}}}
% https://tex.stackexchange.com/questions/335992/how-to-highlight-citations-in-a-revised-manuscript
\newenvironment{hlbreakable}%
  {\color{red}}%
  {}

\RequirePackage{authblk}
%
% Patches for authblk
%
\renewcommand*{\Authfont}{\bfseries\large\raggedright}
\renewcommand*{\Affilfont}{\mdseries\scriptsize\raggedright}

\renewcommand{\maketitle}{%
  \vskip36pt%
  {\raggedright\bfseries\fontsize{22}{27}\selectfont \@title\par}%
  \vskip16pt
  {\@author\par}
  \vskip8pt
}

\renewenvironment{abstract}{%
   \setlength{\parindent}{0pt}\raggedright
   \textcolor{Gray}{\rule{\textwidth}{2pt}}
   \vskip16pt
   \textcolor{black}{\large\bfseries\abstractname\space}
}{%
   \vskip8pt
   \textcolor{Gray}{\rule{\textwidth}{2pt}}
   \vskip16pt
}

%\renewcommand{\abstractname}{Summary}
\renewcommand{\abstractname}{}
